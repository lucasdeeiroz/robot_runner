function UnsavedChangesDialog({ onCancel, onSaveAndExit, onExitWithoutSaving }: {
    onCancel: () => void,
    onSaveAndExit: () => void,
    onExitWithoutSaving: () => void
}) {
    const { t } = useTranslation();

    return (
        <div className="fixed inset-0 z-[10001] flex items-center justify-center bg-black/50 backdrop-blur-sm" onClick={onCancel}>
            <div className="bg-surface p-6 rounded-2xl shadow-xl w-96 border border-outline-variant/30" onClick={e => e.stopPropagation()}>
                <div className="flex flex-col items-center text-center">
                    <div className="w-12 h-12 rounded-2xl flex items-center justify-center mb-4 bg-warning-container/50 text-on-surface/80">
                        <AlertTriangle size={24} />
                    </div>

                    <h3 className="text-lg font-semibold text-on-surface/80 mb-2">
                        {t('mapper.flowchart.unsaved_changes.title', 'Unsaved Changes')}
                    </h3>

                    <p className="text-sm text-on-surface-variant/80 mb-6">
                        {t('mapper.flowchart.unsaved_changes.message', 'You have unsaved changes. Do you want to save before exiting?')}
                    </p>

                    <div className="flex flex-col gap-2 w-full">
                        <Button
                            onClick={onSaveAndExit}
                            className="w-full bg-primary text-on-primary hover:bg-primary/90"
                        >
                            {t('mapper.flowchart.unsaved_changes.save_and_exit', 'Save and Exit')}
                        </Button>
                        <Button
                            onClick={onExitWithoutSaving}
                            variant="danger"
                            className="w-full bg-error-container text-error hover:bg-error-container/80"
                        >
                            {t('mapper.flowchart.unsaved_changes.exit_without_saving', 'Exit without Saving')}
                        </Button>
                        <Button
                            onClick={onCancel}
                            variant="ghost"
                            className="w-full"
                        >
                            {t('mapper.flowchart.unsaved_changes.cancel', 'Cancel')}
                        </Button>
                    </div>
                </div>
            </div>
        </div>
    );
}
